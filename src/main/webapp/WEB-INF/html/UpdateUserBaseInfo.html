<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../../layui/css/layui.css" media="all">
    <style>
        civ {
            top: 100px;
            left: 100%;
            width: 400px;
            height: 300px;
            border: 0px ;
        }
    </style>


</head>
<script type="text/javascript" src="../../js/jquery-3.4.1.js"></script>
<script src="../../layui/layui.js" charset="utf-8"></script>
<script>
    layui.use(['form', 'layedit'], function () {
        var $ = layui.jquery
            , form = layui.form
            , layer = layui.layer
            , layedit = layui.layedit;
        var index = parent.layer.getFrameIndex(window.name);
        form.render();
        form.on('submit(editUser)', function (data) {
            $.ajax({
                url: "/updateUserInfo",
                type: "post",
                async: false,   //不要让它异步提交
                data: data.field,
                dataType: "json",
                success: function (data) {
                    if (data.msg != '0') {
                        layer.alert("修改成功", {icon: 1, time: 2000}, function () {
                            layer.close(layer.index);
                            window.parent.location.reload();    //重新加载父页面，进行数据刷新
                        });
                    } else {
                        layer.alert("修改失败", {icon: 2, time: 2000});
                    }
                }
            });
            return false;

        });

    });


</script>
<body>
<form class="layui-form" action="">

    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">ID</label>
            <div class="layui-input-inline">
                <input name="rowId" lay-verify="required" readonly="" autocomplete="off" class="layui-input"
                       type="text">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">身份证</label>
            <div class="layui-input-inline">
                <input name="idCard" lay-verify="identity" autocomplete="off" class="layui-input" type="text">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">姓名</label>
            <div class="layui-input-inline">
                <input name="name" lay-verify="required" autocomplete="off" class="layui-input" type="text">
            </div>
        </div>

        <!--隐藏性别属性-->
        <div class="layui-inline" style="display:none">
            <label class="layui-form-label">性别</label>
            <div class="layui-input-inline">
                <input name="sex" lay-verify="" autocomplete="off" class="layui-input" type="text">
            </div>
        </div>
        <!--        <div class="layui-inline">-->
        <!--            <label class="layui-form-label">性别</label>-->
        <!--            <div class="layui-input-inline">-->
        <!--                <input name="newsex" lay-verify="required" autocomplete="off" class="layui-input" type="text">-->
        <!--            </div>-->
        <!--        </div>-->
        <!--        请选择性别：-->
        <div class="layui-inline">
            <label class="layui-form-label">请选择性别</label>
            <div class="layui-input-inline">
                <select name="newsex" lay-verify="required" lay-search="" id="newsex">
                    <option value="1">男</option>
                    <option value="0">女</option>
                </select>
            </div>
        </div>

        <!--隐藏民族-->
        <div class="layui-inline" style="display:none">
            <label class="layui-form-label">民族</label>
            <div class="layui-input-inline">
                <input name="nation" lay-verify="required" autocomplete="off" class="layui-input" type="text">
            </div>
        </div>
        <!--        <div class="layui-inline">-->
        <!--            <label class="layui-form-label">民族</label>-->
        <!--            <div class="layui-input-inline">-->
        <!--                <input name="newnation" lay-verify="required" autocomplete="off" class="layui-input" type="text">-->
        <!--            </div>-->
        <!--        </div>-->
        <div class="layui-inline">
            <label class="layui-form-label">请选择民族</label>
            <div class="layui-input-inline">
                <select name="newnation" lay-verify="required" lay-search="" id="newnation">
                    <option value="1">汉族</option>
                    <option value="2">蒙古族</option>
                    <option value="3">回族</option>
                    <option value="4">藏族</option>
                    <option value="5">维吾尔族</option>
                    <option value="6">苗族</option>
                    <option value="7">彝族</option>
                    <option value="8">壮族</option>
                    <option value="9">布依族</option>
                    <option value="10">朝鲜族</option>
                    <option value="11">满族</option>
                    <option value="12">侗族</option>
                    <option value="13">瑶族</option>
                    <option value="14">白族</option>
                    <option value="15">土家族</option>
                    <option value="16">哈尼族</option>
                    <option value="17">哈萨克族</option>
                    <option value="18">傣族</option>
                    <option value="19">黎族</option>
                    <option value="20">傈僳族</option>
                    <option value="21">佤族</option>
                    <option value="22">畲族</option>
                    <option value="23">高山族</option>
                    <option value="24">拉祜族</option>
                    <option value="25">水族</option>
                    <option value="26">东乡族</option>
                    <option value="27">纳西族</option>
                    <option value="28">景颇族</option>
                    <option value="29">柯尔克孜族</option>
                    <option value="30">土族</option>
                    <option value="31">达斡尔族</option>
                    <option value="32">仫佬族</option>
                    <option value="33">羌族</option>
                    <option value="34">布朗族</option>
                    <option value="35">撒拉族</option>
                    <option value="36">毛难族</option>
                    <option value="37">仡佬族</option>
                    <option value="38">锡伯族</option>
                    <option value="39">阿昌族</option>
                    <option value="40">普米族</option>
                    <option value="41">塔吉克族</option>
                    <option value="42">怒族</option>
                    <option value="43">乌孜别克族</option>
                    <option value="44">俄罗斯族</option>
                    <option value="45">鄂温克族</option>
                    <option value="46">崩龙族</option>
                    <option value="47">保安族</option>
                    <option value="48">裕固族</option>
                    <option value="49">京族</option>
                    <option value="50">塔塔尔族</option>
                    <option value="51">独龙族</option>
                    <option value="52">鄂伦春族</option>
                    <option value="53">赫哲族</option>
                    <option value="54">门巴族</option>
                    <option value="55">珞巴族</option>
                    <option value="56">基诺族</option>
                </select>
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">身高 </label>
            <div class="layui-input-inline">
                <input name="height" lay-verify="number" autocomplete="off" class="layui-input" type="text">
            </div>
        </div>
        <!--        <div class="layui-inline">-->
        <!--            <label class="layui-form-label">出生日期 </label>-->
        <!--            <div class="layui-input-inline">-->
        <!--                <input name="bornDate" lay-verify="" autocomplete="off" class="layui-input" type="text">-->
        <!--            </div>-->
        <!--        </div>-->
        <div class="layui-inline">
            <label class="layui-form-label">出生日期</label>
            <div class="layui-input-inline">
                <input type="text" class="layui-input" lay-verify="date" id="bornDate" name="bornDate"
                       placeholder="yyyy-MM-dd">
            </div>
        </div>
    <!--隐藏创建人-->
    <div class="layui-inline" style="display:none">
        <label class="layui-form-label">创建人</label>
        <div class="layui-input-inline">
            <input name="createBy" lay-verify="" autocomplete="off" class="layui-input" type="text">
        </div>
    </div>
    <!--隐藏创建时间-->
    <div class="layui-inline" style="display:none">
        <label class="layui-form-label">创建时间</label>
        <div class="layui-input-inline">
            <input name="createTime" lay-verify="" autocomplete="off" class="layui-input" type="text">
        </div>
    </div>
    <!--隐藏更新人-->
    <div class="layui-inline" style="display:none">
        <label class="layui-form-label">更新人</label>
        <div class="layui-input-inline">
            <input name="updateBy" lay-verify="" autocomplete="off" class="layui-input" type="text">
        </div>
    </div>
    <!--隐藏更新时间-->
    <div class="layui-inline" style="display:none">
        <label class="layui-form-label">更新时间</label>
        <div class="layui-input-inline">
            <input name="updateTime" lay-verify="" autocomplete="off" class="layui-input" type="text">
        </div>
    </div>
    <!--隐藏删除标志位-->
    <div class="layui-inline" style="display:none">
        <label class="layui-form-label">删除标志位</label>
        <div class="layui-input-inline">
            <input name="deleteId" lay-verify="" autocomplete="off" class="layui-input" type="text">
        </div>
    </div>

    <div class="layui-inline">
        <label class="layui-form-label">出生地 </label>
        <div class="layui-input-inline">
            <input name="birthPlace" lay-verify="" autocomplete="off" class="layui-input" type="text">
        </div>
    </div>
    <div class="layui-inline">
        <label class="layui-form-label">手机号码 </label>
        <div class="layui-input-inline">
            <input name="phone" lay-verify="phone" autocomplete="off" class="layui-input" type="text">
        </div>
    </div>
    <div class="layui-inline">
        <label class="layui-form-label">教育程度 </label>
        <div class="layui-input-inline">
            <input name="education" lay-verify="" autocomplete="off" class="layui-input" type="text">
        </div>

    </div>
    <div></div>
    <div class="layui-inline">
        <label class="layui-form-label">政治面貌 </label>
        <div class="layui-input-inline">
            <input name="politic" lay-verify="" autocomplete="off" class="layui-input" type="text">
        </div>
    </div>
    <div></div>
    <div class="layui-inline">
        <civ class="layui-input-block">
            <button class="layui-btn" lay-submit="" lay-filter="editUser">立即提交</button>
        </civ>
    </div>
    </div>

</form>
</body>
</html>